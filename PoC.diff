diff '--color=auto' -r -N --binary '--exclude-from=rdsfd' "Cookie Clicker/resources/app/discordRPC.js" "Cookie Clicker DiscordRPC/resources/app/discordRPC.js"
0a1,11
> const DiscordRPC = require('discord-rpc');
> const clientId = '885903500830183475';
> const rpc = new DiscordRPC.Client({ transport: 'ipc' });
> rpc.login({ clientId }).catch(console.error);
> 
> module.exports.setActivity = (e,args) => {
> 
>     rpc.setActivity(args);
> };
> 
> console.log('discordRPC: Hi')
diff '--color=auto' -r -N --binary '--exclude-from=rdsfd' "Cookie Clicker/resources/app/mods/local/discordRPC/info.txt" "Cookie Clicker DiscordRPC/resources/app/mods/local/discordRPC/info.txt"
0a1,12
> {
> 	"Name": "discordRPC",
> 	"ID": "discordRPC",
> 	"Author": "Kesefon",
> 	"Description": "Discord Rich Presence",
> 	"ModVersion": 1,
> 	"GameVersion": 2.042,
> 	"Date": "10/10/2021",
> 	"Dependencies": [],
> 	"AllowSteamAchievs":1,
> 	"Disabled": 0
> }
\ No newline at end of file
diff '--color=auto' -r -N --binary '--exclude-from=rdsfd' "Cookie Clicker/resources/app/mods/local/discordRPC/main.js" "Cookie Clicker DiscordRPC/resources/app/mods/local/discordRPC/main.js"
0a1,21
> async function setActivity() {
>   window.api.send('discord', {
>     details: parseFloat(Game.cookies).toString()+' Cookies',
>     state: parseFloat(Game.cookiesEarned).toString() + 'Cookies earned',
>     largeImageKey: 'icon',
>     largeImageText: 'Using Kesefon\'s rich presence',
>   });
> }
> 
> Game.registerMod("discordRPC",{
> 	init:function(){
>         setActivity();
> 
>         // activity can only be set every 15 seconds
>         setInterval(() => {
>             setActivity();
>         }, 15e3);
> 	},
> 	save:function(){},
> 	load:function(str){},
> });
\ No newline at end of file
diff '--color=auto' -r -N --binary '--exclude-from=rdsfd' "Cookie Clicker/resources/app/package.json" "Cookie Clicker DiscordRPC/resources/app/package.json"
8a9
>     "discord-rpc": "^4.0.1",
11c12
< }
\ No newline at end of file
---
> }
diff '--color=auto' -r -N --binary '--exclude-from=rdsfd' "Cookie Clicker/resources/app/preload.js" "Cookie Clicker DiscordRPC/resources/app/preload.js"
6c6
< 			if (channel=='toMain') ipcRenderer.send(channel,data);
---
> 			if (channel=='toMain'||channel=='discord') ipcRenderer.send(channel,data);
diff '--color=auto' -r -N --binary '--exclude-from=rdsfd' "Cookie Clicker/resources/app/start.js" "Cookie Clicker DiscordRPC/resources/app/start.js"
328a329,335
>     
>     
>     //DiscordRPC
>     const {setActivity}=require('./discordRPC');
>     ipcMain.on('discord', (e,args)=>{
>         setActivity(e,args);
>     });
